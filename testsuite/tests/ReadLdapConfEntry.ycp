/**
 *  ReadLdapConfEntry.ycp
 *  Test of Ldap::ReadLdapConfEntry function
 *  Author:	Jiri Suchomel <jsuchome@suse.cz>
 *  $Id$
 */

{

    include "testsuite.ycp";
    // testedfiles: Ldap.ycp

    map READ = $[
	"etc": $[
	    "ldap_conf" : $[
		"v" : $[
		    "/etc/ldap.conf": $[
			"host" : nil,
			"base" : "dc=suse,dc=cz",
			"nss_base_passwd" : nil,
		    ]
		]
	    ],
	],
	"product" : $[ "features" :
	    $[ "EVMS_CONFIG" : "nazdar" ],
	],
	"target" : $[
            "size" : -1,
        ],
    ];

    TESTSUITE_INIT([READ,$[],$[]], nil);

    import "Ldap";

    TEST(``(Ldap::ReadLdapConfEntry ("host", "localhost")), [ READ, $[], $[] ],0);

    TEST(``(Ldap::ReadLdapConfEntry ("base", "dc=test")), [ READ, $[], $[] ],0);

    TEST(``(Ldap::ReadLdapConfEntry ("nss_base_passwd", "")), [ READ,$[],$[]],0);
}
