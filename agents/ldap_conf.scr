/**
 * File:
 *   ldap_conf.scr
 * Summary:
 *   SCR Agent for reading/writing /etc/openldap/ldap.conf using the rc-agent
 * Access:
 *   read/write
 * Authors:
 *   Petr Blahos <pblahos@suse.cz>
 * See:
 *   yast2-agent-ini
 *   libscr
 *   man ldap.conf
 * Example:
 *   Dir(.etc.openldap.ldap_conf)
 *   (["base", "host"])
 **
 *   Read(.etc.openldap.ldap_conf.host)
 *   ("10.10.0.149")
 **
 *   Write(.etc.login_defs.base, "dc=myodmain, dc=com")
 *   (true)
 *
 * $Id$
 *
 *    .etc.openldap.ldap_conf
 *
 *    `ag_rcconfig(
 *      RcFile("/etc/openldap/ldap.conf","	",false,true,false)
 *             file, separator, use_quotes, ignore_case, prefer_upper
 *    )
  - is the file really case-insensitive?!?!?!?
 */
.etc.openldap.ldap_conf

`ag_ini(
  IniAgent(
    "/etc/openldap/ldap.conf",
    $[ "options" : [ "ignore_case", "global_values", "flat" ],
       "comments" : [ "^#.*", "^[ \t]*$", ],
       "params" : [
         $[ "match" : [ "^[ \t]*([a-zA-Z0-9_]+)[ \t]+(.*[^ \t]|)[ \t]*$",
			"%s\t%s",
		      ]
	 ]
       ]
    ]))
